---
http_interactions:
- request:
    method: post
    uri: https://sandbox.moip.com.br/v2/customers
    body:
      encoding: UTF-8
      string: '{"ownId":"qeCg7pyVxT3TfYywP8GbSisa","fullname":"John Doe","email":"ilse@mohrharber.com","taxDocument":{"type":"CPF","number":"67822412183"},"phone":{"countryCode":"55","areaCode":"21","number":"00000000"},"shippingAddress":{"street":"Avenida
        Faria Lima","streetNumber":100,"complement":null,"district":"Itaim","city":"SÃ£o
        Paulo","state":"SP","country":"BRA","zipCode":"01452-001"}}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Basic RkFISEk1TERRWlczRU1ZUzI1WUQzUFNOVTJWR1JUUk06Sk9FM1FRTUlZWFJaUFRBUlM2STNWRFpGSE9TQlBQRTNLWTk1RUM1MA==
      User-Agent:
      - MoipRubySDK/1.0.0 (+https://github.com/moip/moip-sdk-ruby)
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Fri, 27 Oct 2017 16:58:06 GMT
      Server:
      - Apache
      Status:
      - 201 Created
      X-Newrelic-App-Data:
      - PxQFUlBXAQoTUVFWDgEDUVYTGhE1AwE2QgNWEVlbQFtcC2VOYwRAFjNTVTIDEU5aUwE9TUEDa0kHREVHDQsGEENCEDJ3a2AbEUkJTwFNA0xUBQNYXlYMAQNIUloFHRVRUANQVVQDAgAIVglWWgtQEB8DWA1CBG4=
      Content-Type:
      - application/json
      Content-Length:
      - '679'
      X-Content-Type-Options:
      - nosniff
      Vary:
      - Accept-Encoding,Origin
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6IkNVUy1DU1ZFRjZBWlY1TjAiLCJvd25JZCI6InFlQ2c3cHlWeFQzVGZZeXdQOEdiU2lzYSIsImZ1bGxuYW1lIjoiSm9obiBEb2UiLCJjcmVhdGVkQXQiOiIyMDE3LTEwLTI3VDE0OjU4OjA2LjAwMC0wMiIsImVtYWlsIjoiaWxzZUBtb2hyaGFyYmVyLmNvbSIsInBob25lIjp7ImNvdW50cnlDb2RlIjoiNTUiLCJhcmVhQ29kZSI6IjIxIiwibnVtYmVyIjoiMDAwMDAwMDAifSwidGF4RG9jdW1lbnQiOnsidHlwZSI6IkNQRiIsIm51bWJlciI6IjY3ODIyNDEyMTgzIn0sInNoaXBwaW5nQWRkcmVzcyI6eyJ6aXBDb2RlIjoiMDE0NTItMDAxIiwic3RyZWV0IjoiQXZlbmlkYSBGYXJpYSBMaW1hIiwic3RyZWV0TnVtYmVyIjoiMTAwIiwiY2l0eSI6IlPDo28gUGF1bG8iLCJkaXN0cmljdCI6Ikl0YWltIiwic3RhdGUiOiJTUCIsImNvdW50cnkiOiJCUkEifSwiX2xpbmtzIjp7InNlbGYiOnsiaHJlZiI6Imh0dHBzOi8vc2FuZGJveC5tb2lwLmNvbS5ici92Mi9jdXN0b21lcnMvQ1VTLUNTVkVGNkFaVjVOMCJ9LCJob3N0ZWRBY2NvdW50Ijp7InJlZGlyZWN0SHJlZiI6Imh0dHBzOi8vaG9zdGVkYWNjb3VudC1zYW5kYm94Lm1vaXAuY29tLmJyP3Rva2VuPTczZTY0OWJiLWI0MjMtNGUxZi1iOGZjLWZkYzBjMjc4NmJhZCZpZD1DVVMtQ1NWRUY2QVpWNU4wJm1wYT1NUEEtMTY3RERFQzNCMzYzIn19fQ==
    http_version: 
  recorded_at: Fri, 27 Oct 2017 16:58:05 GMT
- request:
    method: post
    uri: https://sandbox.moip.com.br/v2/customers/CUS-CSVEF6AZV5N0/fundinginstruments
    body:
      encoding: UTF-8
      string: '{"method":"CREDIT_CARD","creditCard":{"holder":{"fullname":"Spree Commerce","birthdate":"1990-01-01","taxDocument":{"type":"CPF","number":"67822412183"}},"store":true,"number":"4012001037141112","expirationMonth":5,"expirationYear":2018,"cvc":"123"}}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Basic RkFISEk1TERRWlczRU1ZUzI1WUQzUFNOVTJWR1JUUk06Sk9FM1FRTUlZWFJaUFRBUlM2STNWRFpGSE9TQlBQRTNLWTk1RUM1MA==
      User-Agent:
      - MoipRubySDK/1.0.0 (+https://github.com/moip/moip-sdk-ruby)
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Fri, 27 Oct 2017 16:58:08 GMT
      Server:
      - Apache
      Status:
      - 201 Created
      X-Newrelic-App-Data:
      - PxQFUlBXAQoTUVFWDgEDUVYTGhE1AwE2QgNWEVlbQFtcC2VOYwRAFjNTVTIDEU5aUwE9TUEDa0kHREVHDQsGEEM+FxlRXEluHANMD1UIXQUNWEQVFBZVVl4QEkIfYXg1MBgUH1JIU04ATA1RAQEFCh9XDFEdQ1UBUQ8BBVdRCAoIAlkAAVcVSgJQWkAHOw==
      Content-Type:
      - application/json
      Content-Length:
      - '161'
      X-Content-Type-Options:
      - nosniff
      Vary:
      - Accept-Encoding,Origin
    body:
      encoding: UTF-8
      string: '{"creditCard":{"id":"CRC-HM025CA6ZU6T","brand":"VISA","first6":"401200","last4":"1112","store":true},"card":{"brand":"VISA","store":true},"method":"CREDIT_CARD"}'
    http_version: 
  recorded_at: Fri, 27 Oct 2017 16:58:07 GMT
- request:
    method: post
    uri: https://sandbox.moip.com.br/v2/orders
    body:
      encoding: UTF-8
      string: '{"ownId":"R708845552-PALCMY34","items":[{"product":"Product #2 - 1821","quantity":1,"price":1999}],"amount":{"currency":"BRL","subtotals":{"shipping":0,"addition":0,"discount":0}},"customer":{"id":"CUS-CSVEF6AZV5N0"}}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Basic RkFISEk1TERRWlczRU1ZUzI1WUQzUFNOVTJWR1JUUk06Sk9FM1FRTUlZWFJaUFRBUlM2STNWRFpGSE9TQlBQRTNLWTk1RUM1MA==
      User-Agent:
      - MoipRubySDK/1.0.0 (+https://github.com/moip/moip-sdk-ruby)
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Fri, 27 Oct 2017 17:22:38 GMT
      Server:
      - Apache
      Status:
      - 201 Created
      X-Newrelic-App-Data:
      - PxQFUlBXAQoTUVFWDgEDUVYTGhE1AwE2QgNWEVlbQFtcC2VOYwRAFjNTVTIDEU5aUwE9TUEDa0kLQ1JWEBVDSmAtazYRGhgCHVUVUR9RBVtTAQFWUk8KAgdIQ1YFBFIEXFICAFNUBlIJV15AFF5VXkAAZA==
      Content-Type:
      - application/json
      Content-Length:
      - '2754'
      X-Content-Type-Options:
      - nosniff
      Vary:
      - Accept-Encoding,Origin
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6Ik9SRC1aTE1LRDlHR0JKU0siLCJvd25JZCI6IlI3MDg4NDU1NTItUEFMQ01ZMzQiLCJzdGF0dXMiOiJDUkVBVEVEIiwicGxhdGZvcm0iOiJWMiIsImNyZWF0ZWRBdCI6IjIwMTctMTAtMjdUMTU6MjI6MzguNTQ0LTAyIiwidXBkYXRlZEF0IjoiMjAxNy0xMC0yN1QxNToyMjozOC41NDQtMDIiLCJhbW91bnQiOnsicGFpZCI6MCwidG90YWwiOjE5OTksImZlZXMiOjAsInJlZnVuZHMiOjAsImxpcXVpZCI6MCwib3RoZXJSZWNlaXZlcnMiOjAsImN1cnJlbmN5IjoiQlJMIiwic3VidG90YWxzIjp7InNoaXBwaW5nIjowLCJhZGRpdGlvbiI6MCwiZGlzY291bnQiOjAsIml0ZW1zIjoxOTk5fX0sIml0ZW1zIjpbeyJwcm9kdWN0IjoiUHJvZHVjdCAjMiAtIDE4MjEiLCJwcmljZSI6MTk5OSwicXVhbnRpdHkiOjF9XSwiYWRkcmVzc2VzIjpbeyJzdHJlZXROdW1iZXIiOiIxMDAiLCJzdHJlZXQiOiJBdmVuaWRhIEZhcmlhIExpbWEiLCJjaXR5IjoiU8OjbyBQYXVsbyIsImRpc3RyaWN0IjoiSXRhaW0iLCJ6aXBDb2RlIjoiMDE0NTItMDAxIiwic3RhdGUiOiJTUCIsInR5cGUiOiJTSElQUElORyIsImNvdW50cnkiOiJCUkEifV0sImN1c3RvbWVyIjp7ImlkIjoiQ1VTLUNTVkVGNkFaVjVOMCIsIm93bklkIjoicWVDZzdweVZ4VDNUZll5d1A4R2JTaXNhIiwiZnVsbG5hbWUiOiJKb2huIERvZSIsImNyZWF0ZWRBdCI6IjIwMTctMTAtMjdUMTQ6NTg6MDYuMDAwLTAyIiwiZW1haWwiOiJpbHNlQG1vaHJoYXJiZXIuY29tIiwiZnVuZGluZ0luc3RydW1lbnQiOnsiY3JlZGl0Q2FyZCI6eyJpZCI6IkNSQy1ITTAyNUNBNlpVNlQiLCJicmFuZCI6IlZJU0EiLCJmaXJzdDYiOiI0MDEyMDAiLCJsYXN0NCI6IjExMTIiLCJzdG9yZSI6dHJ1ZX0sIm1ldGhvZCI6IkNSRURJVF9DQVJEIn0sInBob25lIjp7ImNvdW50cnlDb2RlIjoiNTUiLCJhcmVhQ29kZSI6IjIxIiwibnVtYmVyIjoiMDAwMDAwMDAifSwidGF4RG9jdW1lbnQiOnsidHlwZSI6IkNQRiIsIm51bWJlciI6IjY3ODIyNDEyMTgzIn0sImFkZHJlc3NlcyI6W3sic3RyZWV0TnVtYmVyIjoiMTAwIiwic3RyZWV0IjoiQXZlbmlkYSBGYXJpYSBMaW1hIiwiY2l0eSI6IlPDo28gUGF1bG8iLCJkaXN0cmljdCI6Ikl0YWltIiwiemlwQ29kZSI6IjAxNDUyLTAwMSIsInN0YXRlIjoiU1AiLCJ0eXBlIjoiU0hJUFBJTkciLCJjb3VudHJ5IjoiQlJBIn1dLCJzaGlwcGluZ0FkZHJlc3MiOnsiemlwQ29kZSI6IjAxNDUyLTAwMSIsInN0cmVldCI6IkF2ZW5pZGEgRmFyaWEgTGltYSIsInN0cmVldE51bWJlciI6IjEwMCIsImNpdHkiOiJTw6NvIFBhdWxvIiwiZGlzdHJpY3QiOiJJdGFpbSIsInN0YXRlIjoiU1AiLCJjb3VudHJ5IjoiQlJBIn0sIl9saW5rcyI6eyJzZWxmIjp7ImhyZWYiOiJodHRwczovL3NhbmRib3gubW9pcC5jb20uYnIvdjIvY3VzdG9tZXJzL0NVUy1DU1ZFRjZBWlY1TjAifSwiaG9zdGVkQWNjb3VudCI6eyJyZWRpcmVjdEhyZWYiOiJodHRwczovL2hvc3RlZGFjY291bnQtc2FuZGJveC5tb2lwLmNvbS5icj90b2tlbj03M2U2NDliYi1iNDIzLTRlMWYtYjhmYy1mZGMwYzI3ODZiYWQmaWQ9Q1VTLUNTVkVGNkFaVjVOMCZtcGE9TVBBLTE2N0RERUMzQjM2MyJ9fSwiZnVuZGluZ0luc3RydW1lbnRzIjpbeyJjcmVkaXRDYXJkIjp7ImlkIjoiQ1JDLUhNMDI1Q0E2WlU2VCIsImJyYW5kIjoiVklTQSIsImZpcnN0NiI6IjQwMTIwMCIsImxhc3Q0IjoiMTExMiIsInN0b3JlIjp0cnVlfSwibWV0aG9kIjoiQ1JFRElUX0NBUkQifV19LCJwYXltZW50cyI6W10sImVzY3Jvd3MiOltdLCJyZWZ1bmRzIjpbXSwiZW50cmllcyI6W10sImV2ZW50cyI6W3sidHlwZSI6Ik9SREVSLkNSRUFURUQiLCJjcmVhdGVkQXQiOiIyMDE3LTEwLTI3VDE1OjIyOjM4LjU0NC0wMiIsImRlc2NyaXB0aW9uIjoiIn1dLCJyZWNlaXZlcnMiOlt7Im1vaXBBY2NvdW50Ijp7ImlkIjoiTVBBLTE2N0RERUMzQjM2MyIsImxvZ2luIjoiZ2FicmllbGEubGltYS5zZUBnbWFpbC5jb20iLCJmdWxsbmFtZSI6IkdhYnJpZWxhIFNlYWJyYSJ9LCJ0eXBlIjoiUFJJTUFSWSIsImFtb3VudCI6eyJ0b3RhbCI6MTk5OSwiZmVlcyI6MCwicmVmdW5kcyI6MH0sImZlZVBheW9yIjp0cnVlfV0sIl9saW5rcyI6eyJzZWxmIjp7ImhyZWYiOiJodHRwczovL3NhbmRib3gubW9pcC5jb20uYnIvdjIvb3JkZXJzL09SRC1aTE1LRDlHR0JKU0sifSwiY2hlY2tvdXQiOnsicGF5Q2hlY2tvdXQiOnsicmVkaXJlY3RIcmVmIjoiaHR0cHM6Ly9jaGVja291dC1uZXctc2FuZGJveC5tb2lwLmNvbS5icj90b2tlbj1hYjZhYzNmNi0yOTMyLTRiMzYtODhjNi0zMGZjNTc2ZmYxYzYmaWQ9T1JELVpMTUtEOUdHQkpTSyJ9LCJwYXlDcmVkaXRDYXJkIjp7InJlZGlyZWN0SHJlZiI6Imh0dHBzOi8vY2hlY2tvdXQtbmV3LXNhbmRib3gubW9pcC5jb20uYnI/dG9rZW49YWI2YWMzZjYtMjkzMi00YjM2LTg4YzYtMzBmYzU3NmZmMWM2JmlkPU9SRC1aTE1LRDlHR0JKU0smcGF5bWVudC1tZXRob2Q9Y3JlZGl0LWNhcmQifSwicGF5Qm9sZXRvIjp7InJlZGlyZWN0SHJlZiI6Imh0dHBzOi8vY2hlY2tvdXQtbmV3LXNhbmRib3gubW9pcC5jb20uYnI/dG9rZW49YWI2YWMzZjYtMjkzMi00YjM2LTg4YzYtMzBmYzU3NmZmMWM2JmlkPU9SRC1aTE1LRDlHR0JKU0smcGF5bWVudC1tZXRob2Q9Ym9sZXRvIn0sInBheU9ubGluZUJhbmtEZWJpdEl0YXUiOnsicmVkaXJlY3RIcmVmIjoiaHR0cHM6Ly9jaGVja291dC1zYW5kYm94Lm1vaXAuY29tLmJyL2RlYml0L2l0YXUvT1JELVpMTUtEOUdHQkpTSyJ9fX19
    http_version: 
  recorded_at: Fri, 27 Oct 2017 17:22:37 GMT
recorded_with: VCR 3.0.3
